@model IEnumerable<PLAYOUT.Models.ViewModels.CanalViewModel>

<div id="canal-info">
    <!-- Aquí se mostrará la información del canal -->
</div>

@section Scripts {
    <script>
        var canales = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model));
        var currentIndex = 0;

        function mostrarCanal() {
            var canal = canales[currentIndex];

            var html = `
                <div>
                    <img src="${canal.LogoUrl}" alt="${canal.Nombre}" style="width: 100px;" />
                    <h2>${canal.Nombre}</h2>
                    <ul>
                        ${canal.Programas.map(p => `
                            <li>${new Date(p.HoraDeEmision).toLocaleTimeString()} - ${p.TituloDePrograma}</li>
                        `).join('')}
                    </ul>
                </div>
            `;

            document.getElementById("canal-info").innerHTML = html;

            currentIndex++;
            if (currentIndex >= canales.length) {
                currentIndex = 0;
            }
        }

        mostrarCanal();
        setInterval(mostrarCanal, 30000); // Cambiar de canal cada 30 segundos
    </script>
}